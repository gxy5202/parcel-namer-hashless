"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return d}});var e,r=require("@swc/helpers/_/_async_to_generator"),l=require("@swc/helpers/_/_interop_require_default"),n=require("@swc/helpers/_/_ts_generator"),a=require("@parcel/plugin"),o=/*#__PURE__*/l._(require("@parcel/namer-default")),t=Symbol.for("parcel-plugin-config"),u=((e=u||{}).ALL="all",e.DEVELOPMENT="development",e.PRODUCTION="production",e);function i(e,r){return Array.isArray(e)&&(null==e?void 0:e.some(function(e){return new RegExp(e).test(r)}))}function s(e){var r=e.allNames,l=e.oldName,n=e.newName,a=e.logger,o=e.log;return r.includes(n)?(o&&a.warn({message:""+l+" hashless failed: file name exists"}),l):(o&&a.info({message:l+" -> "+n}),r.push(n),n)}function c(e){var r=e.bundle,l=e.oldName,n=e.logger,a=e.include,o=e.exclude,t=e.allNames,u=e.log;try{if(!(null==r?void 0:r.needsStableName)){var c=l.split(".");c.splice(c.length-2,1);var d=c.join(".");if(i(o,d))return l;if(i(a,d))return s({allNames:t,oldName:l,newName:d,logger:n,log:u});if(Array.isArray(a))return l;return s({allNames:t,oldName:l,newName:d,logger:n,log:u})}}catch(e){console.error(e)}return l}var d=new a.Namer({loadConfig:function(e){var l=e.config;return r._(function(){var e,r,a,o;return n._(this,function(n){switch(n.label){case 0:return[4,l.getPackage()];case 1:if(a=null!=(r=null==(e=n.sent())?void 0:e["parcel-namer-hashless"])?r:{},o=[],"[object Object]"===Object.prototype.toString.call(a))return[2,Promise.resolve({namerConfig:a,allNames:o})];return[2,Promise.resolve({})]}})})()},name:function(e){var l=e.bundle,a=e.bundleGraph,u=e.logger,i=e.options,s=e.config;return r._(function(){var e,r,d,g,m,f,p,_,N;return n._(this,function(n){switch(n.label){case 0:return[4,o.default[t].name({bundle:l,bundleGraph:a,logger:u})];case 1:if(e=n.sent(),r=s.namerConfig,d=s.allNames,g=r.mode,m=r.include,f=r.exclude,_=void 0===(p=r.log)||p,g===(N=i.mode)||"all"===g)return[2,c({bundle:l,oldName:e,logger:u,include:m,exclude:f,allNames:d,log:_})];if(!g){if("development"===N)return[2,e];return[2,c({bundle:l,oldName:e,logger:u,include:m,exclude:f,allNames:d,log:_})]}return[2,e]}})})()}});